\usepackage[margin=1.5in]{geometry}

% \usepackage{mathpazo}
% \usepackage[euler-digits,euler-hat-accent]{eulervm}
\usepackage{enumitem}
\usepackage[dvipsnames]{xcolor}
\usepackage{chngcntr}
\usepackage{caption}
\usepackage[hang,flushmargin]{footmisc}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{mathtools}
\usepackage{amsthm}
\usepackage[new]{old-arrows}
\usepackage{tcolorbox}
\usepackage{tikz-cd}
\usepackage{bm}

\colorlet{themecolour}{purple}

\counterwithin{figure}{section}

\renewcommand*{\chapterformat}{\color{themecolour}\S\thechapter\autodot\enskip}
\renewcommand*{\sectionformat}{\color{themecolour}\S\thesection\autodot\enskip}
\renewcommand*{\subsectionformat}{\color{themecolour}\S\thesubsection\autodot\enskip}

\theoremstyle{definition}
\newtheorem{theorem}{Theorem}[section]
\newtheorem{proposition}{Proposition}[section]
\newtheorem{lemma}{Lemma}[section]
\newtheorem{corollary}{Corollary}[section]
\newtheorem{definition}{Definition}[section]
\newtheorem{example}{Example}[section]
\newtheorem{remark}{Remark}[section]
\newtheorem{exercise}{Exercise}[section]

% References
\usepackage[colorlinks]{hyperref}
\hypersetup{linkcolor=themecolour}
\usepackage[capitalize,nameinlink]{cleveref}
\renewcommand\thefootnote{\textcolor{themecolour}{\arabic{footnote}}}
