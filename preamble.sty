\usepackage[margin=1.5in]{geometry}

\usepackage{mathpazo}
\usepackage[euler-digits,euler-hat-accent]{eulervm}
\usepackage{enumitem}
\usepackage[dvipsnames]{xcolor}
\usepackage{chngcntr}
\usepackage{caption}
\usepackage[hang,flushmargin]{footmisc}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{mathtools}
\usepackage{amsthm}
\usepackage[new]{old-arrows}
\usepackage{tcolorbox}
\usepackage{tikz-cd}
\usepackage{bm}

% Use subsection labels for figures
\counterwithin{figure}{section}

% Section formats
\renewcommand*{\sectionformat}{\color{purple}\S\thesection\autodot\enskip}
\renewcommand*{\subsectionformat}{\color{purple}\S\thesubsection\autodot\enskip}
\renewcommand*{\chapterformat}{\color{purple}\S\thechapter\autodot\enskip}

% amsthm setup
\theoremstyle{definition}
\newtheorem{theorem}{Theorem}[section]
\newtheorem{proposition}{Proposition}[section]
\newtheorem{lemma}{Lemma}[section]
\newtheorem{corollary}{Corollary}[section]
\newtheorem{definition}{Definition}[section]
\newtheorem{example}{Example}[section]
\newtheorem{remark}{Remark}[section]
\newtheorem{exercise}{Exercise}[section]

% Boxes
\tcbuselibrary{skins}
\usetikzlibrary{shadings}
\colorlet{shadedblockcolor}{purple!75!black}
\tcbset{base/.style={empty, frame engine=path, sharp corners}}
\newtcolorbox{shadedblock}{
    base,
    colframe=purple!10,
    borderline west={2pt}{-2pt}{shadedblockcolor}
}

% References
\usepackage[colorlinks]{hyperref}
\hypersetup{linkcolor=purple}
\usepackage[capitalize,nameinlink]{cleveref}
\renewcommand\thefootnote{\textcolor{purple}{\arabic{footnote}}}
